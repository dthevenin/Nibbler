<component xmlns="http://bender.igel.co.jp">

  <property name="src"/>
  <property name="layout" as="string" value=""/>

  <view xmlns:html="http://www.w3.org/1999/xhtml">
    <html:div class="vs_ui_view" x-hag-hole="children"><content /></html:div>
  </view>

  <watch>
    <get instance="$self" event="@rendered"/>
    <set>
      var instance = this;

      instance.__vs_instance = new vs.ui.View ({
        node: instance.views.$root,
        layout: instance.properties.layout
      }).init ();

      vs.util.extendsBenderInstance (instance, instance.__vs_instance);

      // manage children
      var i = this.children.length;
      while (i--) {
        var child = this.children [i];
        if (child.__vs_instance) {
          this.__vs_instance.add  (child.__vs_instance);
        }
      }
    </set>
  </watch>

  <watch>
    <get instance="$self" property="layout">
      if (!this.__vs_instance) return;
      this.__vs_instance.layout = value;
    </get>
  </watch>

</component>
