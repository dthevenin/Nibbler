<component xmlns="http://bender.igel.co.jp">

  <property name="textOff" type="String" value="Off" />
  <property name="textOn" type="string" value="On" />
  <property name="toggled" type="boolean" value="true"/>

  <view xmlns:html="http://www.w3.org/1999/xhtml">
    <html:div class="vs_ui_switch">
      <html:div />
      <html:div>
        <html:div class='toggle_on' />
        <html:div class='toggle_off' />
        <html:div class='switch' />
      </html:div>
    </html:div>
  </view>

  <watch>
    <get instance="$self" event="@rendered"/>
    <set>
      var instance = this;

      instance.__vs_instance = new vs.ui.Switch ({
        node: instance._views.$root,
        textOff: instance._properties.textOff,
        textOn: instance._properties.textOn,
        toggled: instance._properties.toggled
      }).init ();

      instance.__vs_instance.bind ('change', instance.__vs_instance, function (e) {
        flexo.notify (instance, '@change', {data: e.data});
      })
    </set>
  </watch>

  <watch>
    <get instance="$self" property="textOff">
      if (!this.__vs_instance) return;
      this.__vs_instance.textOff = value;
    </get>
    <get instance="$self" property="textOn">
      if (!this.__vs_instance) return;
      this.__vs_instance.textOn = value;
    </get>
    <get instance="$self" property="toggled">
      if (!this.__vs_instance) return;
      this.__vs_instance.toggled = value;
    </get>
  </watch>

</component>
