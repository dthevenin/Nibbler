<component xmlns="http://bender.igel.co.jp">

  <property name="center" as="dynamic" value="[0,0]"/>
  <property name="maxZoom" as="number" value="0"/>
  <property name="minZoom" as="number" value="0"/>
  <property name="scroll" as="boolean" value="true"/>
  <property name="streetViewControl" as="boolean" value="true"/>
  <property name="tapToZoom" as="boolean" value="true"/>
  <property name="tilt" as="number" value="0"/>
  <property name="zoom" as="number" value="0"/>
  <property name="zoomControl" as="boolean" value="true"/>

  <view xmlns:html="http://www.w3.org/1999/xhtml">
    <html:div class="vs_ext_ui_gmap"></html:div>
  </view>

  <watch>
    <get instance="$self" event="@rendered"/>
    <set>
      var instance = this;

      instance.__vs_instance = new vs.ext.ui.GMap ({
        node: instance.views.$root,
        center: instance.properties.center,
        maxZoom: instance.properties.maxZoom,
        minZoom: instance.properties.minZoom,
        scroll: instance.properties.scroll,
        streetViewControl: instance.properties.streetViewControl,
        tapToZoom: instance.properties.tapToZoom,
        tilt: instance.properties.tilt,
        zoom: instance.properties.zoom,
        zoomControl: instance.properties.zoomControl
      }).init ();

      vs.util.extendsBenderInstance (instance, instance.__vs_instance);

      instance.__vs_instance.bind ('mapload', instance.__vs_instance, function (e) {
        flexo.notify (instance, '@mapload');
      })
    </set>
  </watch>

  <watch>
    <get instance="$self" property="center">
      if (!this.__vs_instance) return;
      this.__vs_instance.center = value;
    </get>
    <get instance="$self" property="maxZoom">
      if (!this.__vs_instance) return;
      this.__vs_instance.maxZoom = value;
    </get>
    <get instance="$self" property="minZoom">
      if (!this.__vs_instance) return;
      this.__vs_instance.minZoom = value;
    </get>
    <get instance="$self" property="scroll">
      if (!this.__vs_instance) return;
      this.__vs_instance.scroll = value;
    </get>
    <get instance="$self" property="streetViewControl">
      if (!this.__vs_instance) return;
      this.__vs_instance.streetViewControl = value;
    </get>
    <get instance="$self" property="tapToZoom">
      if (!this.__vs_instance) return;
      this.__vs_instance.tapToZoom = value;
    </get>
    <get instance="$self" property="tilt">
      if (!this.__vs_instance) return;
      this.__vs_instance.tilt = value;
    </get>
    <get instance="$self" property="zoom">
      if (!this.__vs_instance) return;
      this.__vs_instance.zoom = value;
    </get>
    <get instance="$self" property="zoomControl">
      if (!this.__vs_instance) return;
      this.__vs_instance.zoomControl = value;
    </get>
  </watch>

</component>
